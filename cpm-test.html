<html>
<head>
    <title>Javascript Test Page</title>
    <script src="lib/sylvester.js" type="text/javascript"></script>
    <script src="cpm-sige.js" type="text/javascript"></script>
    <script src="dataframe.js" type="text/javascript"></script>
</head>
<body>
	<input type="file" id="files" name="file" />
	<div id="file_content"></div>
    <script>
    function onLoadFile(evt) {
        if (evt.target.readyState == FileReader.DONE) {
            var parser = new FXParser(evt.target.result);
            var dt = parser.readDateTime();
            console.log(dt);
            var result = parser.readAll();
            console.log(result);
            console.log(parser);
        }
    }

    function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object

        // Loop through the FileList
        for (var i = 0, f; f = files[i]; i++) {
            var reader = new FileReader();
            reader.onloadend = onLoadFile;
            reader.readAsText(f);
        }
    }

    document.getElementById('files').addEventListener('change', handleFileSelect, false);
    </script>
</body>
</html>
